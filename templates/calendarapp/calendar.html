{% extends 'base/base.html' %}
{% load static %}

{% block extracss %}
<link href="{% static 'calender/main.css' %}" rel='stylesheet' />
<script src="{% static 'calender/main.js' %}"></script>
{% endblock extracss %}

{% block content %}
<div class="row">
  <div class="col-md-12">
    <div class="tile row">
      <div class="col-md-3">
        <div id="external-events">
          <h4 class="mb-4">Events This Month</h4>
          <div class="fc-event">My Event 1</div>
          <div class="fc-event">My Event 2</div>
          <div class="fc-event">My Event 3</div>
          <div class="fc-event">My Event 4</div>
          <div class="fc-event">My Event 5</div>
        </div>
      </div>
      <div class="col-md-9">
        <div id="calendar"></div>
      </div>
    </div>
  </div>
</div>
{% endblock content %}

{% block extrascripts %}

<script>

  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');
    var today = new Date();

    var calendar = new FullCalendar.Calendar(calendarEl, {
      headerToolbar: {
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,timeGridWeek,timeGridDay,list'
      },
      initialDate: today,
      navLinks: true, // can click day/week names to navigate views
      selectable: true,
      selectMirror: true,
      select: function(arg) {
        var title = prompt('Event Title:');
        if (title) {
          calendar.addEvent({
            title: title,
            start: arg.start,
            end: arg.end,
            allDay: arg.allDay
          })
        }
        calendar.unselect()
      },
       // THIS KEY WON'T WORK IN PRODUCTION!!!
      // To make your own Google API key, follow the directions here:
      // http://fullcalendar.io/docs/google_calendar/
      googleCalendarApiKey: 'AIzaSyCqCxjjLtjbtkX37aOtWB8OfwBLy_6QuYk',

      // US Holidays
      events: 'bn.bd#holiday@group.v.calendar.google.com',
      eventClick: function(arg) {
        if (confirm('Are you sure you want to delete this event?')) {
          arg.event.remove()
        }
      },
      editable: true,
      dayMaxEvents: true, // allow "more" link when too many events
      // events: [
      //   {
      //     title: 'All Day Event',
      //     start: '2020-09-01'
      //   },
      //   {
      //     title: 'Long Event',
      //     start: '2020-09-07',
      //     end: '2020-09-10'
      //   },
      //   {
      //     groupId: 999,
      //     title: 'Repeating Event',
      //     start: '2020-09-09T16:00:00'
      //   },
      //   {
      //     groupId: 999,
      //     title: 'Repeating Event',
      //     start: '2020-09-16T16:00:00'
      //   },
      //   {
      //     title: 'Conference',
      //     start: '2020-09-11',
      //     end: '2020-09-13'
      //   },
      //   {
      //     title: 'Meeting',
      //     start: '2020-09-12T10:30:00',
      //     end: '2020-09-12T12:30:00'
      //   },
      //   {
      //     title: 'Lunch',
      //     start: '2020-09-12T12:00:00'
      //   },
      //   {
      //     title: 'Meeting',
      //     start: '2020-09-12T14:30:00'
      //   },
      //   {
      //     title: 'Happy Hour',
      //     start: '2020-09-12T17:30:00'
      //   },
      //   {
      //     title: 'Dinner',
      //     start: '2020-09-12T20:00:00'
      //   },
      //   {
      //     title: 'Birthday Party',
      //     start: '2020-09-13T07:00:00'
      //   },
      //   {
      //     title: 'Click for Google',
      //     url: 'http://google.com/',
      //     start: '2020-09-28'
      //   }
      // ]
    });

    calendar.render();
  });

</script>
{% endblock extrascripts %}